-- יצירת SQL לתיקון הרשאות בסופרבייס\nCREATE SCHEMA IF NOT EXISTS "auth";\nCREATE SCHEMA IF NOT EXISTS "extensions";\ncreate extension if not exists "uuid-ossp" with schema extensions;\ncreate extension if not exists pgcrypto with schema extensions;\ncreate extension if not exists pgjwt with schema extensions;\n\ngrant usage on schema public to postgres, anon, authenticated, service_role;\ngrant usage on schema extensions to postgres, anon, authenticated, service_role;\nalter user supabase_admin SET search_path TO public, extensions; -- dont include the "auth" schema\n\ngrant all privileges on all tables in schema public to postgres, anon, authenticated, service_role, supabase_admin;\ngrant all privileges on all functions in schema public to postgres, anon, authenticated, service_role, supabase_admin;\ngrant all privileges on all sequences in schema public to postgres, anon, authenticated, service_role, supabase_admin;\n\nalter default privileges in schema public grant all on tables to postgres, anon, authenticated, service_role;\nalter default privileges in schema public grant all on functions to postgres, anon, authenticated, service_role;\nalter default privileges in schema public grant all on sequences to postgres, anon, authenticated, service_role;\n\nalter default privileges for user supabase_admin in schema public grant all on sequences to postgres, anon, authenticated, service_role;\nalter default privileges for user supabase_admin in schema public grant all on tables to postgres, anon, authenticated, service_role;\nalter default privileges for user supabase_admin in schema public grant all on functions to postgres, anon, authenticated, service_role;\n\nalter role anon set statement_timeout = "3s";\nalter role authenticated set statement_timeout = "8s";
