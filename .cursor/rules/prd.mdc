---
description: 
globs: 
alwaysApply: true
---

# Your rule content

- You can @ files here
- You can use markdown but dont have to

מסמך אפיון (PRD) - מערכת ליצירת הזמנות PI ויצוא לאקסל

1. מטרת המערכת

המערכת מיועדת לניהול מאגר המוצרים וליצירת הזמנות PI (Proforma Invoice) בצורה חכמה ואוטומטית, עם ייצוא לקובץ Excel בפורמט מובנה.

2. תכונות עיקריות

ניהול מאגר מוצרים:

שמירת רשימת מוצרים במסד נתונים מקומי (PostgreSQL).

כל מוצר יכיל את השדות הבאים:

מק"ט (HY1XXX) - נוצר אוטומטית לפי מבנה קבוע.

תיאור המוצר.

תמונה.

צבעים זמינים.

מידות זמינות.

כמות באריזה.

הוראות אריזה.

כמות נדרשת לקרטון.

מחיר ליחידה.

קטגוריה.

סטטוס (זמין/לא זמין).

ממשק הזמנות:

בחירת קטגוריה להצגת מוצרים בטבלה.

הזנת כמות הזמנה ביחידות (אריזות) לכל מוצר.

חישוב אוטומטי של מספר היחידות הכולל על פי כמות באריזה.

הוספת המוצר להזמנה.

מעבר בין קטגוריות והוספת מוצרים נוספים להזמנה.

ייצוא קובץ Excel:

יצירת קובץ המבוסס על תבנית מוכנה.

הכנסת מידע דינמי כגון תאריך, מספר PI אוטומטי.

הצגת כל המוצרים עם הנתונים שלהם, כולל תמונות.

חישוב סה"כ יחידות, סה"כ אריזות, סה"כ קרטונים וסכום כולל.

ניהול מוצרים ועדכון מערכת:

אפשרות להוספת מוצרים חדשים.

עדכון פרטי מוצרים קיימים.

שינוי סטטוס (זמין / לא זמין).

3. טכנולוגיה

בסיס נתונים: PostgreSQL (מקומי).

פלטפורמת פיתוח: Next.js עם TypeScript עבור Backend ו-Frontend.

חיבור למסד הנתונים: Prisma או pg-promise לחיבור נוח לפוסטגרס.

ממשק משתמש: React עם Tailwind CSS לטבלה אינטראקטיבית עם חיפוש וסינון.

ייצוא לאקסל: שימוש בספריית exceljs או xlsx ליצירת קבצים בפורמט מותאם אישית.

API Routes ב-Next.js לניהול קריאות לבסיס הנתונים וליצירת קבצי ההזמנה.

4. מבנה בסיס הנתונים

טבלת מוצרים (products):

עמודה

סוג נתונים

תיאור

id

SERIAL (PK)

מזהה ייחודי

sku

TEXT UNIQUE

מק"ט (HY1XXX)

name

TEXT

שם המוצר

image_url

TEXT

תמונת המוצר

colors

TEXT[]

צבעים זמינים

sizes

TEXT[]

מידות זמינות

units_per_pack

INT

כמות באריזה

packing_info

TEXT

הוראות אריזה

units_per_carton

INT

כמות ליחידת קרטון

price_per_unit

DECIMAL(10,2)

מחיר ליחידה

category

TEXT

קטגוריה

status

TEXT

סטטוס (זמין/לא זמין)

טבלת הזמנות (orders):

עמודה

סוג נתונים

תיאור

id

SERIAL (PK)

מזהה הזמנה

pi_number

TEXT UNIQUE

מספר PI ייחודי

created_at

TIMESTAMP

תאריך יצירה

total_amount

DECIMAL(10,2)

סכום כולל

טבלת פריטים בהזמנה (order_items):

עמודה

סוג נתונים

תיאור

id

SERIAL (PK)

מזהה

order_id

INT (FK)

מזהה ההזמנה

product_id

INT (FK)

מזהה המוצר

quantity

INT

כמות באריזות

total_units

INT

חישוב כמות כוללת לפי אריזות

price

DECIMAL(10,2)

מחיר כולל

5. שימושים

ייעול תהליך הכנת הזמנות.

חיסכון בזמן על ידי יצירת קובץ Excel אוטומטי.

שמירה על סדר ודיוק בפרטי המוצרים והמחירים.